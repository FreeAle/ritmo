<ion-header>
  <ion-toolbar>
    <ion-title class="ion-no-padding">{{'Login'|translate}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding" class="sfondologin">
  <ion-img src="assets/logo_stripe_une.png"></ion-img>

  <form #loginForm="ngForm" class="form" (ngSubmit)="login()">
    <ion-item style="border: 1px; border-radius: 15px;margin: 5px;">
      <ion-label position="floating">{{'Email or Username'|translate}}</ion-label>
      <ion-input type="text" name="email" [(ngModel)]="formData.username" required>
      </ion-input>
    </ion-item>

    <ion-item  style="border: 1px; border-radius: 15px; margin: 5px;" >
      <ion-label position="floating">{{'Password'|translate}}</ion-label>
        <ion-input  [type]="getType()" type="password" name="password" [(ngModel)]="formData.password" required>
        </ion-input>
    </ion-item>
    <ion-button style="align-items: center;" size="small" item-right (click)="toggleTextPassword()"> Mostra Password</ion-button>

    <ion-item lines="none" *ngIf="errorMessage!=''">
      <ion-label>
        {{errorMessage| translate}}
        
      </ion-label>
    </ion-item>


    <ion-button style="border: 1px; border-radius: 15px;" [disabled]="!loginForm.form.valid" color="secondary" expand="full" type="submit" (click)="countup()">
      {{ 'Login' | translate }}
      
    </ion-button>
     <p style="font-size: 14px;">Tentativi rimasti {{count}}</p>
  </form>

  <ion-button expand="full" fill="clear" color="dark" (click)="openForgetPasswordPage()">{{ "Hai dimenticato la Password?" | translate }}</ion-button>


  <ion-button expand="block" *ngIf="config.guestCheckOut && hideGuestLogin" [disabled]="shared.cartProducts.length==0"
    (click)="guestLogin()">
    {{'Continue as a Guest'|translate}}</ion-button>

</ion-content>